{% comment %}
  Contact Form Section
  - Native Shopify contact form
  - Tailwind CSS
  - OS 2.0 compatible
{% endcomment %}

<section
  class="
    {{ section.settings.color_scheme }}
    py-12 md:py-20
  "
>
  <div class="mx-auto max-w-3xl px-6">

    {%- if section.settings.heading != blank -%}
      <h2 class="text-3xl md:text-5xl font-semibold text-center">
        {{ section.settings.heading }}
      </h2>
    {%- endif -%}

    {%- if section.settings.subheading != blank -%}
      <p class="mt-4 text-center text-gray-600">
        {{ section.settings.subheading }}
      </p>
    {%- endif -%}

    <div class="mt-10">
      {% form 'contact', class: 'space-y-6' %}

        {% if form.posted_successfully? %}
          <div class="rounded-md bg-green-50 p-4 text-green-800">
            {{ section.settings.success_message }}
          </div>
        {% endif %}

        {% if form.errors %}
          <div class="rounded-md bg-red-50 p-4 text-red-700">
            {{ form.errors | default_errors }}
          </div>
        {% endif %}

        <div>
          <label class="block text-sm font-medium mb-1" for="ContactName">
            Name
          </label>
          <input
            id="ContactName"
            type="text"
            name="contact[name]"
            required
            class="w-full rounded-md border px-4 py-3"
          >
        </div>

        <div>
          <label class="block text-sm font-medium mb-1" for="ContactEmail">
            Email
          </label>
          <input
            id="ContactEmail"
            type="email"
            name="contact[email]"
            required
            class="w-full rounded-md border px-4 py-3"
          >
        </div>

        <div>
          <label class="block text-sm font-medium mb-1" for="ContactMessage">
            Message
          </label>
          <textarea
            id="ContactMessage"
            name="contact[body]"
            rows="6"
            required
            class="w-full rounded-md border px-4 py-3"
          ></textarea>
        </div>

        {%- if section.settings.show_phone -%}
          <div>
            <label class="block text-sm font-medium mb-1" for="ContactPhone">
              Phone
            </label>
            <input
              id="ContactPhone"
              type="tel"
              name="contact[phone]"
              class="w-full rounded-md border px-4 py-3"
            >
          </div>
        {%- endif -%}

        <button
          type="submit"
          class="
            w-full
            rounded-md
            bg-black
            px-6
            py-3
            text-white
            font-bold
            uppercase
            tracking-widest
            hover:bg-gray-800
            transition
          "
        >
          {{ section.settings.button_label }}
        </button>

      {% endform %}
    </div>
  </div>
</section>
{% schema %}
{
  "name": "Contact form",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Contact us"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "We’d love to hear from you. Fill out the form below and we’ll be in touch."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "Send message"
    },
    {
      "type": "text",
      "id": "success_message",
      "label": "Success message",
      "default": "Thanks for reaching out. We’ll get back to you shortly."
    },
    {
      "type": "checkbox",
      "id": "show_phone",
      "label": "Show phone field",
      "default": false
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "options": [
        { "value": "", "label": "Default" },
        { "value": "bg-gray-50", "label": "Light gray" },
        { "value": "bg-black text-white", "label": "Dark" }
      ],
    }
  ],
  "presets": [
    {
      "name": "Contact form"
    }
  ]
}
{% endschema %}
