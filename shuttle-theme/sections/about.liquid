{% comment %}
  About Page Section for Shortening Shuttle
  Uses TailwindCSS utility classes
  Add to page.about.json or any template
{% endcomment %}

{% comment %}
  About Page Sections – Shortening Shuttle
  - Hero with optional background image
  - Alternating text + image blocks
  - Timeline section with entries
  - TailwindCSS utilities
{% endcomment %}

{% comment %} 
  About Page Sections – Shortening Shuttle
  - Hero with optional background image
  - Alternating text + image blocks
  - Timeline section with entries
  - TailwindCSS utilities
{% endcomment %}

<section class="w-full">

  <!-- HERO -->
  <div class="relative text-white py-16 md:py-28 px-4 md:px-6 text-center overflow-hidden">
    {% if section.settings.hero_bg_image != blank %}
      <div
        class="absolute inset-0 bg-cover bg-center"
        style="background-image:url('{{ section.settings.hero_bg_image | image_url: width: 2400 }}');"
        aria-hidden="true">
      </div>
      <div class="absolute inset-0 bg-black/60"></div>
    {% else %}
      <div class="absolute inset-0 bg-gray-900"></div>
    {% endif %}

    <div class="relative z-10 max-w-4xl mx-auto">
      <h1 class="text-5xl font-extrabold mb-6">
        {{ section.settings.hero_heading }}
      </h1>
      <p class="text-xl text-gray-200 leading-relaxed">
        {{ section.settings.hero_subheading }}
      </p>
    </div>
  </div>

  {% for block in section.blocks %}

    <!-- CONTENT BLOCK -->
    {% if block.type == 'content' %}
      <div class="py-12 md:py-20 px-4 md:px-6 {{ block.settings.bg_color }}">
        <div class="max-w-6xl mx-auto grid lg:grid-cols-2 gap-14 items-center">

          {% if block.settings.image_position == 'left' and block.settings.image != blank %}
            <div>
              <img
                src="{{ block.settings.image | image_url: width: 1200 }}"
                alt="{{ block.settings.heading }}"
                class="rounded-xl shadow-lg w-full h-auto"
                loading="lazy">
            </div>
          {% endif %}

          <div>
            <h2 class="text-3xl md:text-5xl font-bold text-gray-900 mb-6">
              {{ block.settings.heading }}
            </h2>

            <div class="text-gray-700 leading-relaxed space-y-4">
              {{ block.settings.content }}
            </div>
          </div>

          {% if block.settings.image_position == 'right' and block.settings.image != blank %}
            <div>
              <img
                src="{{ block.settings.image | image_url: width: 1200 }}"
                alt="{{ block.settings.heading }}"
                class="rounded-xl shadow-lg w-full h-auto"
                loading="lazy">
            </div>
          {% endif %}

        </div>
      </div>
    {% endif %}

    <!-- TIMELINE BLOCK -->
    {% if block.type == 'timeline' %}
      <div class="py-12 md:py-20 px-4 md:px-6">
        <div class="max-w-6xl mx-auto flex flex-col justify-center lg:grid-cols-2 gap-14 items-start">
      
      {% for i in (1..6) %}

        {% assign title_key = 'title_' | append: i %}
        {% assign text_key  = 'text_'  | append: i %}

        {% assign title = block.settings[title_key] %}
        {% assign text  = block.settings[text_key] %}

        {% if title != blank %}
          <div class="border-l-4 border-blue-600 pl-6">
            <h3 class="text-2xl font-bold text-gray-900">
              {{ title }}
            </h3>

            {% if text != blank %}
              <p class="text-gray-700 mt-1">
                {{ text }}
              </p>
            {% endif %}
          </div>
        {% endif %}

      {% endfor %}
    </div>
  </div>
    {% endif %}
  {% endfor %}

  <!-- CTA -->
  <div class="py-12 md:py-20 px-4 md:px-6 ss-bg-blue text-white text-center">
    <h2 class="text-3xl md:text-5xl font-bold mb-4">
      {{ section.settings.cta_heading }}
    </h2>
    <p class="text-lg text-blue-100 mb-8">
      {{ section.settings.cta_subheading }}
    </p>

    <a
      href="{{ section.settings.cta_link }}"
      class="inline-block bg-white text-blue-800 font-bold uppercase tracking-widest px-10 py-4 rounded-xl shadow-lg hover:bg-blue-50 transition text-base">
      {{ section.settings.cta_label }}
    </a>
  </div>

</section>
{% schema %}
{
  "name": "About Sections",
  "settings": [
    {
      "type": "image_picker",
      "id": "hero_bg_image",
      "label": "Hero Background Image"
    },
    {
      "type": "text",
      "id": "hero_heading",
      "label": "Hero Heading",
      "default": "About the Shortening Shuttle®"
    },
    {
      "type": "textarea",
      "id": "hero_subheading",
      "label": "Hero Subheading",
      "default": "Proudly made in the USA and trusted by commercial kitchens for over 30 years."
    },
    {
      "type": "text",
      "id": "cta_heading",
      "label": "CTA Heading",
      "default": "Ready to Make Your Kitchen Safer?"
    },
    {
      "type": "textarea",
      "id": "cta_subheading",
      "label": "CTA Subheading",
      "default": "Explore our models and discover why the Shortening Shuttle® is trusted nationwide."
    },
    {
      "type": "text",
      "id": "cta_label",
      "label": "CTA Button Label",
      "default": "Shop Products"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "CTA Link",
      "default": "/collections/all"
    }
  ],
  "blocks": [
    {
      "type": "content",
      "name": "Content Section",
      "settings": [
        { "type": "text", "id": "heading", "label": "Heading" },
        { "type": "richtext", "id": "content", "label": "Content" },
        { "type": "image_picker", "id": "image", "label": "Image" },
        {
          "type": "select",
          "id": "image_position",
          "label": "Image Position",
          "options": [
            { "value": "left", "label": "Left" },
            { "value": "right", "label": "Right" }
          ],
          "default": "right"
        },
        {
          "type": "select",
          "id": "bg_color",
          "label": "Background Color",
          "options": [
            { "value": "bg-white", "label": "White" },
            { "value": "bg-gray-50", "label": "Light Gray" },
            { "value": "bg-gray-100", "label": "Gray" }
          ],
          "default": "bg-white"
        }
      ]
    },
    {
      "type": "timeline",
      "name": "Timeline Section",
      "settings": [
        { "type": "text", "id": "heading", "label": "Timeline Heading", "default": "Our Journey" },

        { "type": "text", "id": "title_1", "label": "Item 1 Title" },
        { "type": "textarea", "id": "text_1", "label": "Item 1 Description" },

        { "type": "text", "id": "title_2", "label": "Item 2 Title" },
        { "type": "textarea", "id": "text_2", "label": "Item 2 Description" },

        { "type": "text", "id": "title_3", "label": "Item 3 Title" },
        { "type": "textarea", "id": "text_3", "label": "Item 3 Description" },

        { "type": "text", "id": "title_4", "label": "Item 4 Title" },
        { "type": "textarea", "id": "text_4", "label": "Item 4 Description" },

        { "type": "text", "id": "title_5", "label": "Item 5 Title" },
        { "type": "textarea", "id": "text_5", "label": "Item 5 Description" },

        { "type": "text", "id": "title_6", "label": "Item 6 Title" },
        { "type": "textarea", "id": "text_6", "label": "Item 6 Description" }
      ]
    }
  ],
  "presets": [
    {
      "name": "About Sections",
      "category": "Shortening Shuttle"
    }
  ]
}
{% endschema %}
